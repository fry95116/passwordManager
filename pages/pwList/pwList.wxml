<!--pages/pwList/pwList.wxml-->
<view class="weui-cells"  wx:if="{{infos.length === 0}}">
  <view class="weui-cell weui-cell_access" hover-class="weui-cell_active"
        bindtap="toAddInfo">
    <view class="weui-cell__bd">没有数据</view>
    <view class="weui-cell__ft  weui-cell__ft_in-access">点击添加</view>
  </view>
</view>
<view wx:else>

  <!-- searchBar start -->
  <view class="search-bar weui-search-bar">
    <view class="weui-search-bar__form">
      <view class="weui-search-bar__box">
        <icon class="weui-icon-search_in-box" type="search" size="14"></icon>
        <input type="text" class="weui-search-bar__input" placeholder="搜索"
                value="{{inputVal}}" focus="{{inputShowed}}" bindinput="inputTyping" />
        <view class="weui-icon-clear" wx:if="{{inputVal.length > 0}}" bindtap="clearInput">
          <icon type="clear" size="14"></icon>
        </view>
      </view>
      <label class="weui-search-bar__label" hidden="{{inputShowed}}" bindtap="showInput">
        <icon class="weui-icon-search" type="search" size="14"></icon>
        <view class="weui-search-bar__text">按名称搜索</view>
      </label>
    </view>
    <view class="weui-search-bar__cancel-btn" hidden="{{!inputShowed}}" bindtap="hideInput">取消</view>
  </view>
  <!-- searchBar end -->
  <!-- 密文list start -->
  <view class="pwd-list weui-cells weui-cells_after-title" wx:if="{{!isDataVisiable}}">
    <!-- item start -->
    <view class="weui-cell weui-cell_swiped" wx:for="{{infos}}" wx:key="name">
      <view class="weui-cell__bd">
        <view class="weui-cell">
          <view class="weui-cell__hd">
            <view class="icon-tag" style="background-color: {{item.tag}};"></view>
          </view>
          <view class="weui-cell__bd">
            {{item.name}}
          </view>
          <view class="weui-cell__ft">{{item.primaryItem.value}}</view>
        </view>
      </view>
    </view>
    <!-- items end --> 
  </view>
  <!-- 密文list end -->
  <!-- 明文list start -->
  <view class="pwd-list weui-cells weui-cells_after-title" wx:else>
    <!-- item start -->    
    <navigator class="weui-cell weui-cell_swiped" hover-class="weui-cell_active" wx:for="{{infos}}" wx:key="name" url="./detail/detail?name={{item.name}}">
      <view class="weui-cell__bd" data-index="{{index}}"
            style="transform: translateX(-{{dx[index] || 0}}px)"
            bindtouchstart="onTouchStart" bindtouchmove="onTouchMove"
            bindtouchend="onTouchEnd">
        <view class="weui-cell weui-cell_access">
          <view class="weui-cell__hd">
            <view class="icon-tag" style="background-color: {{item.tag}};"></view>
          </view>
          <view class="weui-cell__bd">
            {{item.name}}
          </view>
          <view class="weui-cell__ft weui-cell__ft_in-access">{{item.primaryItem.value}}</view>
        </view>
      </view>
      <view class="weui-cell__ft">
        <view class="weui-swiped-btn weui-swiped-btn_warn" hover-class="weui-swiped-btn_warn-active" data-index="{{index}}" data-key="{{item.name}}"catchtap="deleteInfo">删除</view>
      </view>
    </navigator>
    <!-- items end --> 
  </view>
  <!-- 明文list end -->
  <button class="btn-action" bindtap="scanCode" wx:if="{{!isDataVisiable}}">
    <image src="/res/scan.png"/>

  </button>
  <button class="btn-action" bindtap="lockData" wx:else>
    <image src="/res/lock.png"/>
    <view class="timer timer-left"  style="transform:rotate({{rotateDeg - 180 > 0 ? rotateDeg - 180 : 0}}deg)" ></view>
    <view class="timer timer-right" style="transform:rotate({{rotateDeg}}deg)" wx:if="{{rotateDeg <= 180}}"></view>
    <view class="timer timer-right timer-bg" wx:else></view>
  </button>
</view>